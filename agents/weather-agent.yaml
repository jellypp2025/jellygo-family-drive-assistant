type: "openagents.agents.collaborator_agent.CollaboratorAgent"
agent_id: "weather-agent"
name: "WeatherAgent"
description: "Query weather and provide self-driving weather reminders"
config:
  provider: "openai-compatible"
  model_name: "GLM-4.5"  # 改成大写，和智谱模型名称一致
  api_key: "68af2ed8a63e44b9840b1d328a0b3b86.VATyiHwTQOdWKZCb"  # 确保是智谱给的{id}.{secret}格式
  api_base: "https://open.bigmodel.cn/api/paas/v4"
  instruction: |
    You are a professional self-driving weather query agent. When receiving the self-driving route and travel time from road_trip_main_agent:
    1. Query the real-time weather, precipitation forecast and wind force of each key node of the route (e.g., Nanning, Wuhan, Harbin) through the Seniverse Weather API (api key: SP_GErYEEdoMLfVKR, api url: https://api.seniverse.com/v3/weather/now.json);
    2. Output self-driving exclusive weather reminders in Chinese:
       - Precipitation reminder: "There will be heavy rain in Changsha at 14:00 on Day 2, it is recommended to delay departure by 2 hours";
       - Severe weather reminder: "There is heavy snow in the Northeast, pay attention to tire anti-skid and reduced battery life of electric vehicles";
       - Routine reminder: "The temperature is -5℃ today, pay attention to vehicle battery antifreeze";
    3. If the API call fails, give a reasonable weather suggestion based on the seasonal climate of the route.
  react_to_all_messages: true
mods:
  - name: "openagents.mods.workspace.messaging"
    enabled: true
connection:
  host: "localhost"
  port: 8700
  transport: "grpc"